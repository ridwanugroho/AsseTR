
@{
    ViewData["Title"] = "Update";
    var cats = ViewData["cats"] as List<Category>;
    var rooms = ViewData["rooms"] as List<Room>;
    var brands = ViewData["brands"] as List<Brand>;

    var item = ViewData["item"] as Goods;

    if (ViewBag.user == 2)
        Layout = "_ManagerLayout";

    if (ViewBag.user == 3)
        Layout = "_OperatorLayout";
}

    <form class="w-25" asp-action="Update" asp-controller="Operator" method="post" enctype="multipart/form-data">
        <input name="id" value="@item.Id" hidden />
        <div class="form-group">
            <label for="name">Name</label>
            <input value="@item.Name" type="text" class="form-control" id="name" name="name" aria-describedby="emailHelp" placeholder="Name" required>
        </div>
        <div class="form-group">
            <label for="description">Description</label>
            <input value="@item.Description" type="text" class="form-control" id="description" name="description" placeholder="Description" required>
        </div>
        <div class="form-group">
            <label for="brand">Brand</label>
            <select id="brand" name="brand">
                @foreach (var r in brands)
                {
                    if (r.Id == item.Brand.Id)
                    {
                        <option value="@r.Id" selected>@r.Name</option>
                    }
                    else
                    {
                        <option value="@r.Id">@r.Name</option>
                    }
                }
            </select>
        </div>
        <div class="form-group">
            <label for="price">Price</label>
            <input value="@item.UnitPrice" type="text" class="form-control" id="price" name="unitPrice" placeholder="Price" required>
        </div>
        <div class="form-group">
            <label for="status">Status</label>
            <input value="@item.Status" type="text" class="form-control" id="status" name="status" placeholder="Number">
        </div>
        <div class="form-group">
            <label for="serialnumber">Serial Numer</label>
            <input value="@item.SerialNumber" type="text" class="form-control" id="serialnumber" name="serialnumber" placeholder="Number">
        </div>

        <div class="form-group">
            <label for="category">Category</label>
            <select id="category" name="category">
                @foreach (var s in cats)
                {
                    if (s.Id == item.Category.Id)
                    {
                        <option value="@s.Id" selected>@s.Name</option>
                    }
                    else
                    {
                        <option value="@s.Id">@s.Name</option>
                    }
                }
            </select>
        </div>
        <div class="form-group">
            <label for="location">Location</label>
            <select id="location" name="location">
                @foreach (var r in rooms)
                {
                    if (r.Id == item.Locations.Id)
                    {
                        <option value="@r.Id" selected>@r.Name</option>
                    }
                    else
                    {
                        <option value="@r.Id">@r.Name</option>
                    }
                }
            </select>
        </div>

        @foreach (var img in item.Images)
        {
            <input type="tel" name="prevImg" value="@img" hidden />
        }

        <div class="form-group">
            <label for="images">Images</label>
            <input type="file" name="img" />
        </div>
        <div class="form-group">
            <label for="images">Images</label>
            <input type="file" name="img" />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

